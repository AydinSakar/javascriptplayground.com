<!DOCTYPE html>
<html>
<head>
  
  <title>Package Management with Jam JS</title>
  <link rel="stylesheet" type="text/css" href="/style.css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="/js/rainbow-custom.min.js"></script>
  <script src="/js/app.js"></script>
</head>
	<body class=" blog_single ">
    <header>
      <nav>
        <ul>
          
        </ul>
      </nav>
      <div class="container">
        <hgroup>
          <h2>JavaScript Playground</h2>
          <h3>Tips, tricks, tutorials &amp; screencasts to help you improve your JavaScript</h3>
        </hgroup>
      <img src="/img/imac.png" alt="">
      </div>
    </header>
    <div class="container">
      <div class="container blog_single">
  <section class="latest-article article">
    <h1> Package Management with Jam JS </h1>
    <p class="post_date"><span>Posted: </span>01 July 2012</p>
    <div class="post_body">
      <p>Today we&#8217;ll take a look at <a href='http://jamjs.org/'>Jam JS</a>, a JavaScript Package Manager. This uses <a href='http://requirejs.org/'>RequireJS</a> to load in your required packages and makes using JavaScript libraries much easier.</p>

<p>The first thing to do is install it. This is done through the Node Package Manager, which I&#8217;ll presume you&#8217;ve got installed. If not, you need to install Node.js &amp; NPM; there are plenty of resources online for helping you do this. To install simply run:</p>

<pre><code>npm install -g jamjs</code></pre>

<p>The <code>-g</code> makes it install globally, which gives you the <code>jam</code> command to run on the command line.</p>

<p>Lets create a new project, which will be a simple website with some jQuery written to change the background colour of the website. For this usually I&#8217;d pull in jQuery from Google&#8217;s CDN, but Jam can download &amp; set this up for us.</p>

<p>Head into your project&#8217;s directory and run:</p>

<pre><code>jam install jquery</code></pre>

<p>This will download the latest version of jQuery and put it into <code>./jam/jquery/jquery.js</code>. By default all packages are installed to <code>./jam</code>. Now, we could just include that script manually, but Jam comes with RequireJS to manage this for us.</p>

<p>Firstly, here&#8217;s my <code>index.html</code>:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Jam JS&lt;/title&gt;
    &lt;script src=&quot;jam/require.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h2&gt;Using Jam JS&lt;/h2&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>The key here is including <code>jam/require.js</code>, which pulls in the RequireJS source, all configured to work with Jam&#8217;s directory structure for packages.</p>

<p>The work is done in <code>app.js</code>:</p>

<pre><code>require([&#39;jquery&#39;], function () {
  var changeBg = function() {
    var body = $(&quot;body&quot;);

    var colours = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;];

    body.css(&quot;background-color&quot;, colours[Math.floor(Math.random()*colours.length)]);

    setTimeout(changeBg, 2000);

  };

  $(function() {
    setTimeout(changeBg, 2000);
  });
});</code></pre>

<p>That code just changes the background colour every 2 seconds, but the important bit is in the top line:</p>

<pre><code>require([&#39;jquery&#39;], function() {});</code></pre>

<p>RequireJS takes in a list of modules to load, and then a callback function to run once they are all loaded.</p>

<p>So far, you might be wandering what the main advantage of Jam is. So far, it&#8217;s been useful but nothing ground breaking. The main advantage for me is that you can update your scripts automatically. I don&#8217;t know about you, but a lot of my projects still use old versions of libraries because I never got round to updating them. Well, with Jam it&#8217;s as simple as:</p>

<pre><code>jam upgrade</code></pre>

<p>This checks all your libraries and will download new versions if required. You can also check for upgrades for an individual package:</p>

<pre><code>jam upgrade jquery</code></pre>

<p>However, sometimes you might want to stay at a specific version. Imagine jQuery 1.9 (not out yet, of course) introduces a change that breaks your application. You can tell Jam to lock jQuery at 1.8.x with:</p>

<pre><code>jam lock jquery@1.8.x</code></pre>

<p>This will allow it to upgrade jQuery all the way through 1.8 but not to 1.9. When the time comes for you to upgrade &amp; fix those issues, you can unlock &amp; upgrade it again:</p>

<pre><code>jam unlock jquery
jam upgrade jquery</code></pre>

<p>To view all your packages, you can do <code>jam ls</code>.</p>

<p>You can see the list of Jam&#8217;s packages <a href='http://jamjs.org/packages/#/'>on the Jam site</a>, and also search. Whilst Jam is relatively new and does not have a huge library, a lot of very popular tools are on Jam, including jQuery, Underscore, CoffeeScript, Backbone, Handlebars and more.</p>

<p>Once you&#8217;ve got all your packages installed and your website done, it&#8217;s time to put it live. We all know it&#8217;s bad practise to include all these scripts individually, so Jam provides a mechanism to pool all our scripts into one. This will compile every library and the RequireJS source into one file:</p>

<pre><code>jam compile output.min.js</code></pre>

<p>This will produce <code>output.min.js</code> which can then be included when putting your site into production.</p>

<p>That brings to an end this whirlwind tour of Jam JS. Tools like this are becoming all the more common for JavaScript development &amp; that&#8217;s a good thing. In the next couple of months I&#8217;ll be taking a look at a few tools that attempt to improve the JavaScript workflow &amp; make managing libraries and packages easier.</p>

<p>In a tutorial next week, I will show you how to make your own library a Jam package and publishing it for everyone to use.</p>
    </div>
  </section>
  <div id="disqus_thread" style="margin-top: 30px"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jsplayground'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
</div>

    </div>
  <footer>
    <div class="container">
      <h2>JavaScript Playground</h2>
      <p>Maintained by <a href="http://twitter.com/Jack_Franklin">Jack Franklin</a>. Designed by <a href="http://twitter.com/TobyHowarth">Toby Howarth</a></p>
      <p>All content &copy; Jack Franklin</p>
      <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3206068-17']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

      </script>
    </div>
  </footer>
	</body>
</html>
