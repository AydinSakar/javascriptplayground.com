<!DOCTYPE html>
<html>
<head>
  <title>Custom jQuery Builds with Grunt</title>
  <link rel="stylesheet" type="text/css" href="/style.css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="/js/rainbow-custom.min.js"></script>
  <script src="/js/app.js"></script>
</head>
	<body class=" blog_single ">
    <header>
      <nav>
        <ul>
          <li><a href="/feed.xml">RSS Feed</a></li>
          <li><a href="/contributing.html">Contribute</a></li>
          <li><a href="/archives.html">Archives</a></li>
          <li><a href="/">Home</a></li>
        </ul>
      </nav>
      <div class="container">
        <h2><a href="/">JavaScript Playground</a></h2>
      </div>
    </header>
    <div class="container">
      <div class="container blog_single">
  <section class="latest-article article">
    <h1> Custom jQuery Builds with Grunt </h1>
    <p class="post_date"><span>Posted: </span>02 April 2013 by
      
        <a href="http://twitter.com/Jack_Franklin">Jack Franklin</a>
      
    </p>
    <div class="post_body">
      <p>A lot has been made of how, in the future versions of jQuery, it will be possible to easily build your own version of jQuery, without the parts you know you&#8217;re not going to use.</p>

<p>What a lot of people don&#8217;t realise is that you can do this today, if you&#8217;re prepared to install Grunt and grab the raw jQuery repository from Github. This quick tip will show you how.</p>

<p>First you&#8217;re going to need Node and npm installed. Then get Grunt installed too. Note that since Grunt 0.4.0 the way of doing this has changed slightly. In the future I&#8217;ll be covering Grunt in more detail but for now, follow the below instructions to get it going:</p>

<ul>
<li>If you&#8217;ve ever previously installed Grunt 0.3.0, get rid of it: <code>npm uninstall -g grunt</code>.</li>

<li>Now install the Grunt-CLI tool globally: <code>npm install -g grunt-cli</code>.</li>
</ul>

<p>This means each project on your machine can use a different version of Grunt, if it so desires. The Grunt CLI tool will use the first local version of Grunt it can find, so you can have specific version numbers on a project by project basis.</p>

<p>Next, lets clone the jQuery repository:</p>

<pre><code>git clone git@github.com:jquery/jquery.git</code></pre>

<p>Now navigate into that directory and install all dependencies:</p>

<pre><code>cd jquery
npm install</code></pre>

<p>The first time you clone the repository, you need to run Grunt once. This includes a number of tasks that update sub modules before running the tests and building jQuery:</p>

<pre><code>grunt</code></pre>

<p>That will give you the full jQuery source minified into the <code>dist/</code> folder. But say you wanted to build jQuery without any of the Ajax built in, as your current project is not going to need it. Try:</p>

<pre><code>grunt custom:-ajax</code></pre>

<p>You should get an output similar to this:</p>

<pre><code>Running &quot;custom:-ajax&quot; (custom) task
Creating custom build...

Running &quot;build:all:*:-ajax&quot; (build) task
Excluding ajax             (src/ajax.js)
Excluding ajax/script      (src/ajax/script.js)
Excluding ajax/jsonp       (src/ajax/jsonp.js)
Excluding ajax/xhr         (src/ajax/xhr.js)
File &#39;dist/jquery.js&#39; created.

Running &quot;uglify:all&quot; (uglify) task
Source Map &quot;dist/jquery.min.map&quot; created.
File &quot;dist/jquery.min.js&quot; created.
Uncompressed size: 209152 bytes.
Compressed size: 16767 bytes gzipped (73066 bytes minified).

Running &quot;dist&quot; task



Done, without errors.</code></pre>

<p>And there you go! It&#8217;s not only the Ajax module you can remove, <a href='https://github.com/jquery/jquery#modules'>The jQuery Repository documents all of them</a>. If you&#8217;re going to be working on a project where file size is important, and you know there&#8217;s parts of jQuery you wont use, it&#8217;s certainly worth doing a custom build this way to save a few bytes.</p>
    </div>
  </section>
  <div id="disqus_thread" style="margin-top: 30px"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jsplayground'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
</div>

    </div>
  <footer>
    <div class="container">
      <h2>JavaScript Playground</h2>
      <p>Maintained by <a href="http://twitter.com/Jack_Franklin">Jack Franklin</a>. Designed by <a href="http://twitter.com/TobyHowarth">Toby Howarth</a></p>
      <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3206068-17']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

      </script>
    </div>
  </footer>
	</body>
</html>
